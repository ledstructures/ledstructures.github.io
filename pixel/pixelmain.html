<!DOCTYPE html>
<html>
<link rel="stylesheet" href="../style/style.css">

<head>
    <title>
        Ledstructures pixel calculator
    </title>
    <link rel="icon" type="image/x-icon" href="../img/favicon_32x32.png">
</head>

<body class="pixcalbody" onload="calcallpm();">
    <script id="navbar" src="../navbar.js" onload="higliteactive('pixelcalc')"></script>
    <br>
    <div class="contentdiv">
        <div class="activediv">
            <table>
                <tr>
                    <td>
                        <p class="table_paragraph">Number of pixels or ic's</p>
                    </td>
                    <td>
                        <p class="table_paragraph">pixels/segment per meter</p>
                    </td>
                    <td>
                        <p class="table_paragraph">Pixel / fixture type</p>
                    </td>
                    <td>
                        <p class="table_paragraph">PSU type</p>
                    </td>
                    <td>
                        <p class="table_paragraph">Channels per pixel <i class="deviation_help">&#x1F6C8;</i>
                            <span class="deviation_hide">Setting the color channels correct has an BIG impact on both
                                the power and fps.</span>
                        </p>

                    </td>
                    <td>
                        <p class="table_paragraph">Resolution per channel <i class="deviation_help">&#x1F6C8;</i>
                            <span class="deviation_hide">The resolution only has impact on the fps </span>
                        </p>
                    </td>
                </tr>
                <tr class="contenthalftr">
                    <td>
                        <input id="numpixels" type="number" min="1" max="5000" value="200" onchange="calcall();" />
                    </td>
                    <td>
                        <input id="nummeters" type="number" min="1" max="1000" value="5" onchange="calcallpm();" />
                    </td>
                    <td>
                        <form id="fixture">
                            <input type="radio" onclick="calcall();" name="fixture" id="CIRCLE" checked="true">Circle
                            <i class="deviation_help">&#x1F6C8;</i>
                            <span class="deviation_hide">1m circle = 10pix, 2m circle 30 pix etc??</span>
                            <br>
                            <input type="radio" onclick="setDist(4);" name="fixture" id="PIXELTUBE">Pixel
                            tube
                            <i class="deviation_help">&#x1F6C8;</i>
                            <span class="deviation_hide">Tube lengths are 2m (100pix), 1m (50pix), and
                                50cm (25pix). </span>
                            <br>
                            <input type="radio" onclick="setDist(8);" name="fixture" id="PIXELSTRIP">Pixel
                            strip
                            <i class="deviation_help">&#x1F6C8;</i>
                            <span class="deviation_hide">Pix strips lengths are 2m (120pix), 1m (60pix), and
                                60cm (36pix), 50cm (30pix), 20cm (12pix). </span>
                            <br>
                            <input type="radio" onclick="setDist(6);" name="fixture" id="LSFLEX">Ls flex
                            <i class="deviation_help">&#x1F6C8;</i>
                            <span class="deviation_hide">Flex tube lengths are 6m (120pix). Other lenghts on
                                request.</span>
                            <br>
                            <input type="radio" onclick="calcall();" name="fixture" id="NEONSTRIP">Neon
                            flex<br>
                        </form>
                    </td>
                    <td>
                        <form id="psu">
                            <input type="radio" onclick="calcall();" name="psu" id="W200" checked="true">200W psu<br>
                            <input type="radio" onclick="calcall();" name="psu" id="W300">300W psu<br>
                        </form>
                    </td>
                    <td>
                        <form id="colchans">
                            <input type="radio" onclick="calcall();" name="colchans" id="RGB3">3/RGB<br>
                            <input type="radio" onclick="calcall();" name="colchans" id="RGBW4"
                                checked="true">4/RGBW<br>
                        </form>
                        </p>
                    </td>
                    <td>
                        <form id="channeldept">
                            <input type="radio" onclick="calcall();" name="channeldept" id="BIT8"
                                checked="true">8-bit<br>
                            <input type="radio" onclick="calcall();" name="channeldept" id="BIT12">12-bit<br>
                            <input type="radio" onclick="calcall();" name="channeldept" id="BIT14">14-bit<br>
                            <input type="radio" onclick="calcall();" name="channeldept" id="BIT16">16-bit<br>
                        </form>
                    </td>
                </tr>

                <tr>
                    <td colspan="6">
                        <p class=" table_paragraph">
                            Results:</p>
                        <br>
                    </td>
                </tr>

                <tr>
                    <td colspan="2">
                        <p class=" table_paragraph">
                            Power data</p><br>
                        Both the advatek and magipix will only work correct if the correct ic and dimmer limit and
                        current settings are selected
                    </td>
                    <td colspan=4 id="powerdata">
                        Total power: <br>
                        Current settings: <br>
                        Max lim settings: <br>
                    </td>
                </tr>

                <tr>
                    <td colspan="2" id="fpsresult">
                        <p class=" table_paragraph">
                            Refresh rate</p> <br>
                        This assumes running at 800kz.<br>
                        Running data output faster than 800khz is not recommended.
                    </td>
                    <td colspan=4 id="fpsdata">

                    </td>
                </tr>

            </table>
            <p class="footer">2026 LEDstructures</p>

        </div>
    </div>
    <script src="js/times.js"></script>
    <script src="js/power.js"></script>

    <script>
        function setDist(length) {
            document.getElementById("nummeters").value = length;
            calcallpm();
        }
        function calcallpm() {
            let radiopixtype = document.getElementById("fixture");
            // if (radiopixtype[0])
            let pixels = 200;
            //     document.getElementById("nummeters").value = 
            if (radiopixtype[0].checked)// circle
            {

            }
            if (radiopixtype[1].checked)// tube
            {
                pixels = document.getElementById("nummeters").value * 50;
            }
            if (radiopixtype[2].checked)// strip
            {
                pixels = document.getElementById("nummeters").value * 60;
            }
            if (radiopixtype[3].checked)// strip
            {
                pixels = document.getElementById("nummeters").value * 20;
            }
            if (radiopixtype[4].checked)// strip
            {
                pixels = document.getElementById("nummeters").value * 20;
            }

            document.getElementById("numpixels").value = pixels.toFixed(0);
            calcall();
        }
        function calcall() {
            removeconfilcting();

            times();
            writepower();

        }
        function removeconfilcting() {
            let radiocolor = document.getElementById("colchans");
            let radiopixtype = document.getElementById("fixture");
            let radiobits = document.getElementById('channeldept');
            let meters = 0;
            if (radiopixtype[0].checked)// circle
            {

            }
            if (radiopixtype[1].checked)// tube
            {
                meters = document.getElementById("numpixels").value / 50;

            }
            if (radiopixtype[2].checked)// strip
            {
                meters = document.getElementById("numpixels").value / 60;
            }
            if (radiopixtype[3].checked)// strip
            {
                meters = document.getElementById("numpixels").value / 20;
            }
            if (radiopixtype[4].checked)// strip
            {
                meters = document.getElementById("numpixels").value / 20;
            }

            if ((!radiopixtype[2].checked) && (!radiopixtype[3].checked)) {
                let radio = document.getElementsByName("colchans");
                for (i = 0; i < radio.length; i++) {
                    radio[i].disabled = false;
                }
            }
            else {
                let radio = document.getElementsByName("colchans");
                for (i = 0; i < radio.length; i++) {
                    radio[i].disabled = true;
                }
                document.getElementById('colchans')[1].checked = false;
                document.getElementById('colchans')[0].checked = true;
            }

            if ((radiopixtype[0].checked) || (radiopixtype[1].checked)) {
                let radio = document.getElementsByName("channeldept");
                for (i = 0; i < radio.length; i++) {
                    radio[i].disabled = false;
                }
            } else {
                let radio = document.getElementsByName("channeldept");
                for (i = 0; i < radio.length; i++) {
                    radio[i].disabled = true;
                }
                document.getElementById('channeldept')[3].checked = false;
                document.getElementById('channeldept')[2].checked = false;
                document.getElementById('channeldept')[1].checked = false;
                document.getElementById('channeldept')[0].checked = true;
            }
            document.getElementById("nummeters").value = meters.toFixed(3);
        }


    </script>
</body>

</html>